!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("amazon-cognito-identity-js"),require("aws-sdk")):"function"==typeof define&&define.amd?define(["amazon-cognito-identity-js","aws-sdk"],t):"object"==typeof exports?exports["aws-cognito-promises"]=t(require("amazon-cognito-identity-js"),require("aws-sdk")):e["aws-cognito-promises"]=t(e["amazon-cognito-identity-js"],e["aws-sdk"])}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAWSConfig=t.getUser=t.getUserPool=t.get=t.set=void 0;var o=n(5),r=n(1),i=void 0,u=void 0,s=void 0;t.set=function(e){i=e,s=new o.Config,s.region=i.region,s.credentials=new o.CognitoIdentityCredentials({IdentityPoolId:i.IdentityPoolId}),u=new r.CognitoUserPool({UserPoolId:i.UserPoolId,ClientId:i.ClientId})},t.get=function(){return i},t.getUserPool=function(){return u},t.getUser=function(){return u.getCurrentUser()},t.getAWSConfig=function(){return s}},function(t,n){t.exports=e},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.getSession=t.authSignOut=t.getLocalUser=t.authSignIn=t.confirmation=t.authRegister=void 0;var r=n(4),i=o(r),u=n(6),s=o(u),c=n(7),f=o(c),a=n(8),l=o(a),d=n(9),g=o(d),v=n(10),p=o(v),P=n(0),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(P);t.authRegister=i.default,t.confirmation=s.default,t.authSignIn=f.default,t.getLocalUser=l.default,t.authSignOut=g.default,t.getSession=p.default,t.config=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=(0,o.getUserPool)();return new Promise(function(o,i){r.signUp(e,t,n,null,function(e,t){e?i(e):o(t)})})};var o=n(0)},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={Username:e,Pool:(0,r.getUserPool)()},i=new o.CognitoUser(n);return new Promise(function(e,n){i.confirmRegistration(t,!0,function(t,o){t?n(t):e(o)})})};var o=n(1),r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={Username:e,Password:t},i=new o.AuthenticationDetails(n),u={Username:e,Pool:(0,r.getUserPool)()},s=new o.CognitoUser(u);return new Promise(function(e,t){s.authenticateUser(i,{onSuccess:function(t){e(t)},onFailure:function(e){t(e)}})})};var o=n(1),r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,o.getUser)();if(e)return new Promise(function(t,n){e.getSession(function(o,r){o?n(o):t(e)})});throw new Error("no cognitiveUser value")};var o=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,o.getUser)();if(!e)throw new Error("no cognitiveUser value");e.signOut(),Promise.resolve()};var o=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,o.getUser)();if(e)return new Promise(function(t,n){e.getSession(function(e,r){if(e)n(e);else{var u="cognito-idp."+(0,o.getAWSConfig)().region+".amazonaws.com/"+(0,o.get)().UserPoolId;(0,o.getAWSConfig)().credentials.params.Logins[u]=r.getIdToken().getJwtToken(),(0,i.default)().then(function(){t(r)}).catch(function(e){n(e)})}})});throw new Error("no cognitiveUser value")};var o=n(0),r=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise(function(e,t){(0,o.getAWSConfig)().credentials.refresh(function(n){n?t(n):e()})})};var o=n(0)}])});
//# sourceMappingURL=index.js.map